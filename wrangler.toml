name = "siren"
# PERBAIKAN 1: Mengubah jalur dari .mjs ke .js. 
# wasm-bindgen manual dengan --target module menghasilkan shim.js, bukan shim.mjs.
main = "build/worker/shim.js" 
compatibility_date = "2024-05-23"
minify = true
workers_dev = true

routes = [
  { pattern = "vm.gpj.web.id", custom_domain = true, zone_id = "5c7647b716ed5262595513d4becaf9ed" },
  { pattern = "ava.game.naver.com.vm.gpj.web.id", custom_domain = true, zone_id = "5c7647b716ed5262595513d4becaf9ed" },
  { pattern = "df.game.naver.com.vm.gpj.web.id", custom_domain = true, zone_id = "5c7647b716ed5262595513d4becaf9ed" },
  { pattern = "graph.instagram.com.vm.gpj.web.id", custom_domain = true, zone_id = "5c7647b716ed5262595513d4becaf9ed" },
  { pattern = "zaintest.vuclip.com.vm.gpj.web.id", custom_domain = true, zone_id = "5c7647b716ed5262595513d4becaf9ed" },
  { pattern = "support.zoom.us.vm.gpj.web.id", custom_domain = true, zone_id = "5c7647b716ed5262595513d4becaf9ed" },
  { pattern = "cache.netflix.com.vm.gpj.web.id", custom_domain = true, zone_id = "5c7647b716ed5262595513d4becaf9ed" }
]

[[kv_namespaces]]
binding = "GEOVPN"
id = "96a271a6f0b948e783163eee8da31d8a"

# PERBAIKAN 2: Hapus atau kosongi bagian [build].
# Proses build kini ditangani sepenuhnya di cf.yml, 
# dan Wrangler akan mencoba menjalankan command ini, yang bertentangan dengan build manual Anda.
# Karena Anda memiliki dua environment, kita kosongkan saja:
[build]

[env.dev]
# PERBAIKAN 3: Kosongi atau hapus sub-bagian build di environment 'dev'.
# Ini mengatasi WARNING 'Multiple environments' saat deploy tanpa --env.
# Jika Anda tetap ingin menggunakan environment 'dev', Anda bisa mengosongkan build command-nya.
build = {} 


[vars]

UUID = "f282b878-8711-45a1-8c69-5564172123c1"

MAIN_PAGE_URL = "https://raw.githubusercontent.com/jaka1m/Siren/refs/heads/master/web/index.html"
SUB_PAGE_URL  = "https://raw.githubusercontent.com/jaka1m/Siren/refs/heads/master/web/sub.html"
LINK_PAGE_URL = "https://raw.githubusercontent.com/jaka1m/Siren/refs/heads/master/web/link.html"
CONVERTER_PAGE_URL = "https://raw.githubusercontent.com/jaka1m/Siren/refs/heads/master/web/converter.html"
CHECKER_PAGE_URL = "https://raw.githubusercontent.com/jaka1m/Siren/refs/heads/master/web/checker.html"
